{% extends 'dashboard/base.html' %}
{% load static %}

{% block content %}

       <div class="container w-50" >
            <div class="row mt-4">
                <div class="col">
                    <h3 class="dashboard-card-title">
                        {{project.name}}
                    </h3>
                    <h5>Deadline</h5>
                    <span>{{project.deadline}}</span>
                </div>
                <div class="col">
                    <p class="border text-center h-100">
                        {{project.description}}
                    </p>
                </div>
                <hr class="mt-2"> 
            </div>
            <div class="row">
                <h5>Files</h5>
                <div class="col border rounded-3" style="height:200px;">
                    <ul>
                        {% for file in files %}
                        <a href="{{ file.filename.url }}" class="mt-2 btn btn-success btn-sm" target="_blank">
                            {{ file.filename }}
                        </a>
                        {%endfor%}
                    </ul>
                </div>
            </div>
            <div class="row mt-2">
                <h5>Tasks</h5>
                <div class="col border rounded-3" style="height:200px;">
                    <ul>
                        {% for task in tasks %}
                        <a href="{{ file.filename.url }}" class="mt-2 mb-2 btn btn-block btn-warning" style=" list-style-type:none;background-color: bisque; target="_blank">
                            
                            {{ task.name }}
                        </a>
                        {%endfor%}
                    </ul>
                </div>
            </div>
            <div class="row mt-2 justify-content-center">
                <a href="{% url 'new_task' %}" class="btn btn-primary w-25">New Task</a>
            </div>
            <div class="row mt-2">
                <h5>People</h5>
                <div class="col border rounded-3" style="height:200px;">
                    <ul class="mt-3">
                        {%for member in proj_members%}
                        <div class="row">
                            <a href="{{member.id}}" class="text-black" target="_blank" style="text-decoration:none;">
                                {{member.username}}
                            </a>
                        </div>
                            
                        {%endfor%}
                    </ul>
                </div>
            </div>
            <div class="row mt-3 mb-5 justify-content-between">
                <div class="col-5">
                    
                    <div class="row">
                        <select class="" id='del_members'>
                            <option></option>
                            {%for member in proj_members%}
                            <option value="{{member.id}}">{{member.username}}</option>
                            {%endfor%}
                        </select>
                    </div>
                    <div class="row mt-2 w-75" style="float:right;">
                        <span project_id='{{project.id}}' class="btn btn-danger" id="proj_del">Remove from project</span>
                    </div>
                </div>
                <div class="col-5">
                    
                    <div class="row">
                        <select class="col" id='add_members'>
                            <option></option>
                            {%for member in proj_non_members%}
                            <option value="{{member.id}}">{{member.username}}</option>
                            {%endfor%}
                        </select>
                    </div>
                    <div class="row mt-2 w-50" style="float:right;">
                        <span project_id='{{project.id}}' class="btn btn-success" id="proj_add">Add to project</span>
                    </div>
                </div>   
            </div>  
       </div>
{% endblock content %}
